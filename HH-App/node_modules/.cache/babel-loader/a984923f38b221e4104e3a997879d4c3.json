{"ast":null,"code":"import _classCallCheck from \"/Users/HansHenrikSande/Documents/fitte/DoctorDiary/HH-App/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/HansHenrikSande/Documents/fitte/DoctorDiary/HH-App/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/HansHenrikSande/Documents/fitte/DoctorDiary/HH-App/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/HansHenrikSande/Documents/fitte/DoctorDiary/HH-App/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/HansHenrikSande/Documents/fitte/DoctorDiary/HH-App/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/HansHenrikSande/Documents/fitte/DoctorDiary/HH-App/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _defineProperty from \"/Users/HansHenrikSande/Documents/fitte/DoctorDiary/HH-App/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/HansHenrikSande/Documents/fitte/DoctorDiary/HH-App/src/Oldreport.js\";\nimport React, { Component } from 'react';\nimport ReactDOM from \"react-dom\";\nimport { Paper, TextField, Input, MuiThemeProvider, AppBar, Button, Toolbar, Typography } from '@material-ui/core/';\nimport { withStyles } from '@material-ui/core/styles';\nimport PropTypes from 'prop-types';\nimport Api from './api.js';\n/*\ngetEvent(eventID){\nApi.getEntryFromDoctor(eventID).then(data => console.log(data));\n}\n*/\n\nvar styles = function styles(theme) {\n  var _textinput;\n\n  return {\n    root: {\n      width: '80%',\n      margin: '0 auto',\n      marginTop: '1%',\n      overflowX: 'auto'\n    },\n    buttons: {\n      marginTop: '3%',\n      margin: '1 auto',\n      backgroundColor: '#3f51b5',\n      color: 'white'\n    },\n    textinput: (_textinput = {\n      marginTop: '2rem'\n    }, _defineProperty(_textinput, \"marginTop\", '2rem'), _defineProperty(_textinput, \"margin\", '0'), _defineProperty(_textinput, \"overflow\", 'auto'), _textinput)\n  };\n};\n\nvar Oldreport =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Oldreport, _React$Component);\n\n  function Oldreport(props) {\n    var _this;\n\n    _classCallCheck(this, Oldreport);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Oldreport).call(this, props));\n    _this.state = {\n      date: '',\n      timeFrom: '',\n      timeTo: '',\n      patientType: '',\n      equipmentUsed: '',\n      problems: 'bare masse problemer her. bruker denne til å se hvordan multiline fungerer',\n      status: '',\n      data: [],\n      textField1: \"\",\n      textField2: \"\",\n      textField3: \"\",\n      textField4: \"\",\n      currentField: \"\",\n      clicked: false\n    };\n    _this.handlePatient = _this.handlePatient.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.saveChanges = _this.saveChanges.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleEquipment = _this.handleEquipment.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleProblems = _this.handleProblems.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.focusIn = _this.focusIn.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.focusOut = _this.focusOut.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Oldreport, [{\n    key: \"setValue\",\n    value: function setValue(text, id) {\n      if (id == \"zrZADVnTtMa\") {\n        this.setState({\n          textField1: text\n        });\n      } else if (id == \"romAEndBlt4\") {\n        this.setState({\n          textField2: text\n        });\n      } else if (id == \"EZstOIjb7wN\") {\n        this.setState({\n          textField3: text\n        });\n      } else if (id == \"p5D5Y9x7yMc\") {\n        this.setState({\n          textField4: text\n        });\n      }\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var dataValues = this.props.data;\n      console.log(\"dataValues: \", dataValues);\n\n      for (var i = 0; i < dataValues.length; i++) {\n        if (dataValues[i].dataElement === \"zrZADVnTtMa\") {\n          console.log(dataValues[i].value);\n\n          switch (parseInt(dataValues[i].value)) {\n            case 1:\n              this.setValue(\"Approved\", dataValues[i].dataElement);\n              break;\n\n            case 2:\n              this.setValue(\"Rejected\", dataValues[i].dataElement);\n              break;\n\n            case 3:\n              this.setValue(\"Pending\", dataValues[i].dataElement);\n              break;\n\n            default:\n              console.log(\"Skal ikke kommme hit\");\n              break;\n          }\n        } else if (dataValues[i].dataElement === \"romAEndBlt4\") {\n          switch (parseInt(dataValues[i].value)) {\n            case 1:\n              this.setValue(\"Equiment/Drug Issues\", dataValues[i].dataElement);\n              break;\n\n            case 2:\n              this.setValue(\"User/Patient Issues\", dataValues[i].dataElement);\n              break;\n\n            case 3:\n              this.setValue(\"Technical Issue\", dataValues[i].dataElement);\n              break;\n\n            case 4:\n              this.setValue(\"Health worker issue\", dataValues[i].dataElement);\n              break;\n\n            case 5:\n              this.setValue(\"None\", dataValues[i].dataElement);\n              break;\n\n            default:\n              console.log(\"Skal ikke kommme hit\");\n              break;\n          }\n        } else if (dataValues[i].dataElement === \"EZstOIjb7wN\") {\n          this.setValue(\"verdi1\", dataValues[i].dataElement);\n        } else if (dataValues[i].dataElement === \"p5D5Y9x7yMc\") {\n          this.setValue(\"verdi2\", dataValues[i].dataElement);\n        }\n      }\n    }\n  }, {\n    key: \"handlePatient\",\n    value: function handlePatient(event) {\n      this.setState({\n        textField1: event.target.value\n      });\n    }\n  }, {\n    key: \"handleEquipment\",\n    value: function handleEquipment(event) {\n      this.setState({\n        textField2: event.target.value\n      });\n    }\n  }, {\n    key: \"handleProblems\",\n    value: function handleProblems(event) {\n      this.setState({\n        textField3: event.target.value\n      });\n    }\n  }, {\n    key: \"saveChanges\",\n    value: function saveChanges() {\n      // endrer objektet\n      //var fucker = [this.state.textField1, this.state.textField2, this.state.textField3];\n      var temp = JSON.parse(this.props.report);\n      console.log(\"BODY: \", temp); //console.log(\"DET VI SKAL HA\", temp.dataValues[0]);\n\n      console.log(temp.dataValues);\n      var test = temp.dataValues;\n      console.log(\"Test\", test); //for(var i = 0; i < )\n\n      var field = \"\";\n\n      for (var i = 0; i < test.length; i++) {\n        console.log(test[i].dataElement);\n\n        if (test[i].dataElement === \"romAEndBlt4\") {\n          test[i].value = this.state.textField1;\n          field = test.state.textField1;\n        } else if (test[i].dataElement === \"EZstOIjb7wN\") {\n          test[i].value = this.state.textField2;\n          field = test.state.textField2;\n        } else if (test[i].dataElement === \"zrZADVnTtMa\") {\n          test[i].value = this.state.textField3;\n          field = test.state.textField3;\n        }\n\n        this.setState({\n          currentField: field\n        });\n      } //console.log(temp.dataValues[0].dataElement);\n      //console.log(this.state.textField1);\n      //temp.dataValues[0].dataElement = this.state.textField1;\n\n\n      temp.dataValues = test;\n      console.log(\"BODY etter: \", temp);\n      var event = {\n        dataValues: [this.state.textField1]\n      };\n      console.log(\"EVENT: \", event);\n      var baseUrl = Api.dhis2.baseUrl;\n      var headers = Api.headers;\n      fetch(\"\".concat(baseUrl, \"events/\").concat(this.props.eventID, \"/\").concat(this.state.currentField), {\n        method: 'PUT',\n        credentials: 'include',\n        mode: 'cors',\n        headers: headers,\n        body: JSON.stringify(temp)\n      }).catch(function (error) {\n        return error;\n      }).then(function (response) {\n        return response.json();\n      });\n      /*\n      fetch(`${baseUrl}events/${this.props.eventID}/romAEndBlt4`, {\n        method: 'GET',\n        credentials: 'include',\n        mode: 'cors',\n        headers,\n      })\n      .catch(error => error)\n      .then(response => response.json());\n      */\n    }\n  }, {\n    key: \"focusIn\",\n    value: function focusIn() {\n      console.log(\"Focus in\");\n      this.state({\n        clicked: true\n      });\n    }\n  }, {\n    key: \"focusOut\",\n    value: function focusOut() {\n      console.log(\"Focus out\");\n\n      if (this.state.clicked) {\n        this.saveChanges();\n      }\n\n      this.setState({\n        clicked: false\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var classes = this.props.classes;\n      return React.createElement(\"div\", {\n        className: \"tReport\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 234\n        },\n        __self: this\n      }, React.createElement(\"body\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 235\n        },\n        __self: this\n      }, React.createElement(AppBar, {\n        position: \"static\",\n        color: \"primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 237\n        },\n        __self: this\n      }, React.createElement(Toolbar, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 238\n        },\n        __self: this\n      }, React.createElement(Button, {\n        color: \"inherit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 239\n        },\n        __self: this\n      }, \"Back\"), React.createElement(Typography, {\n        id: \"headliner\",\n        variant: \"h6\",\n        color: \"inherit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 240\n        },\n        __self: this\n      }, \"Doctorsinterface\"))), React.createElement(Paper, {\n        className: classes.root,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 245\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        onSubmit: this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 246\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 247\n        },\n        __self: this\n      }, React.createElement(TextField, {\n        type: \"text\",\n        onFocus: this.focusIn,\n        onBlur: this.focusOut,\n        value: this.state.textField1,\n        label: \"Types of patients:\",\n        className: classes.textinput,\n        onChange: this.handlePatient,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 248\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 250\n        },\n        __self: this\n      }, React.createElement(TextField, {\n        type: \"text\",\n        onFocus: this.focusIn,\n        onBlur: this.focusOut,\n        value: this.state.textField2,\n        label: \"Equipment used:\",\n        className: classes.textinput,\n        onChange: this.handleEquipment,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 251\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 253\n        },\n        __self: this\n      }, React.createElement(TextField, {\n        multiline: true,\n        type: \"text\",\n        onFocus: this.focusIn,\n        onBlur: this.focusOut,\n        value: this.state.textField3,\n        label: \"Challenges related to equipment or infrastructure:\",\n        className: classes.textinput,\n        onChange: this.handleProblems,\n        rowsMax: \"7\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 254\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 259\n        },\n        __self: this\n      }, React.createElement(Button, {\n        className: classes.buttons,\n        onClick: this.saveChanges,\n        color: \"primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 260\n        },\n        __self: this\n      }, \" Change \"), React.createElement(Button, {\n        className: classes.buttons,\n        onClick: this.props.handler,\n        color: \"primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 261\n        },\n        __self: this\n      }, \" Close \")))));\n    }\n  }]);\n\n  return Oldreport;\n}(React.Component);\n\nexport default withStyles(styles)(Oldreport);","map":{"version":3,"sources":["/Users/HansHenrikSande/Documents/fitte/DoctorDiary/HH-App/src/Oldreport.js"],"names":["React","Component","ReactDOM","Paper","TextField","Input","MuiThemeProvider","AppBar","Button","Toolbar","Typography","withStyles","PropTypes","Api","styles","theme","root","width","margin","marginTop","overflowX","buttons","backgroundColor","color","textinput","Oldreport","props","state","date","timeFrom","timeTo","patientType","equipmentUsed","problems","status","data","textField1","textField2","textField3","textField4","currentField","clicked","handlePatient","bind","saveChanges","handleEquipment","handleProblems","focusIn","focusOut","text","id","setState","dataValues","console","log","i","length","dataElement","value","parseInt","setValue","event","target","temp","JSON","parse","report","test","field","baseUrl","dhis2","headers","fetch","eventID","method","credentials","mode","body","stringify","catch","error","then","response","json","classes","handleSubmit","handler"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,QAAP,MAAqB,WAArB;AACA,SAASC,KAAT,EAAgBC,SAAhB,EAA2BC,KAA3B,EAAkCC,gBAAlC,EAAoDC,MAApD,EAA4DC,MAA5D,EAAoEC,OAApE,EAA6EC,UAA7E,QAA+F,oBAA/F;AACA,SAASC,UAAT,QAA2B,0BAA3B;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,GAAP,MAAgB,UAAhB;AAEA;;;;;;AAOA,IAAMC,MAAM,GAAG,SAATA,MAAS,CAAAC,KAAK;AAAA;;AAAA,SAAK;AACvBC,IAAAA,IAAI,EAAE;AACJC,MAAAA,KAAK,EAAE,KADH;AAEJC,MAAAA,MAAM,EAAC,QAFH;AAGJC,MAAAA,SAAS,EAAE,IAHP;AAIJC,MAAAA,SAAS,EAAE;AAJP,KADiB;AAOvBC,IAAAA,OAAO,EAAE;AACPF,MAAAA,SAAS,EAAE,IADJ;AAEPD,MAAAA,MAAM,EAAE,QAFD;AAGPI,MAAAA,eAAe,EAAE,SAHV;AAIPC,MAAAA,KAAK,EAAE;AAJA,KAPc;AAavBC,IAAAA,SAAS;AACPL,MAAAA,SAAS,EAAC;AADH,gDAEG,MAFH,yCAGA,GAHA,2CAIG,MAJH;AAbc,GAAL;AAAA,CAApB;;IAsBMM,S;;;;;AACJ,qBAAYC,KAAZ,EAAkB;AAAA;;AAAA;;AAChB,mFAAMA,KAAN;AACA,UAAKC,KAAL,GAAa;AACXC,MAAAA,IAAI,EAAC,EADM;AAEXC,MAAAA,QAAQ,EAAC,EAFE;AAGXC,MAAAA,MAAM,EAAC,EAHI;AAIXC,MAAAA,WAAW,EAAC,EAJD;AAKXC,MAAAA,aAAa,EAAC,EALH;AAMXC,MAAAA,QAAQ,EAAC,4EANE;AAOXC,MAAAA,MAAM,EAAC,EAPI;AAQXC,MAAAA,IAAI,EAAE,EARK;AASXC,MAAAA,UAAU,EAAE,EATD;AAUXC,MAAAA,UAAU,EAAE,EAVD;AAWXC,MAAAA,UAAU,EAAE,EAXD;AAYXC,MAAAA,UAAU,EAAE,EAZD;AAaXC,MAAAA,YAAY,EAAE,EAbH;AAcXC,MAAAA,OAAO,EAAE;AAdE,KAAb;AAiBA,UAAKC,aAAL,GAAqB,MAAKA,aAAL,CAAmBC,IAAnB,uDAArB;AACA,UAAKC,WAAL,GAAmB,MAAKA,WAAL,CAAiBD,IAAjB,uDAAnB;AACA,UAAKE,eAAL,GAAuB,MAAKA,eAAL,CAAqBF,IAArB,uDAAvB;AACA,UAAKG,cAAL,GAAsB,MAAKA,cAAL,CAAoBH,IAApB,uDAAtB;AACA,UAAKI,OAAL,GAAe,MAAKA,OAAL,CAAaJ,IAAb,uDAAf;AACA,UAAKK,QAAL,GAAgB,MAAKA,QAAL,CAAcL,IAAd,uDAAhB;AAxBgB;AAyBjB;;;;6BAEQM,I,EAAMC,E,EAAG;AAEhB,UAAIA,EAAE,IAAI,aAAV,EAAwB;AACtB,aAAKC,QAAL,CAAc;AAAEf,UAAAA,UAAU,EAAEa;AAAd,SAAd;AACD,OAFD,MAEO,IAAIC,EAAE,IAAI,aAAV,EAAwB;AAC7B,aAAKC,QAAL,CAAc;AAAEd,UAAAA,UAAU,EAAGY;AAAf,SAAd;AACD,OAFM,MAEA,IAAIC,EAAE,IAAI,aAAV,EAAwB;AAC7B,aAAKC,QAAL,CAAc;AAAEb,UAAAA,UAAU,EAAGW;AAAf,SAAd;AACD,OAFM,MAEA,IAAIC,EAAE,IAAI,aAAV,EAAwB;AAC7B,aAAKC,QAAL,CAAc;AAAEZ,UAAAA,UAAU,EAAGU;AAAf,SAAd;AACD;AACF;;;wCAMmB;AAElB,UAAIG,UAAU,GAAG,KAAK1B,KAAL,CAAWS,IAA5B;AAEAkB,MAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ,EAA4BF,UAA5B;;AAEA,WAAI,IAAIG,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAGH,UAAU,CAACI,MAA9B,EAAsCD,CAAC,EAAvC,EAA0C;AACxC,YAAGH,UAAU,CAACG,CAAD,CAAV,CAAcE,WAAd,KAA8B,aAAjC,EAA+C;AAC7CJ,UAAAA,OAAO,CAACC,GAAR,CAAYF,UAAU,CAACG,CAAD,CAAV,CAAcG,KAA1B;;AACA,kBAAOC,QAAQ,CAACP,UAAU,CAACG,CAAD,CAAV,CAAcG,KAAf,CAAf;AACE,iBAAK,CAAL;AACA,mBAAKE,QAAL,CAAc,UAAd,EAA0BR,UAAU,CAACG,CAAD,CAAV,CAAcE,WAAxC;AACA;;AACA,iBAAK,CAAL;AACA,mBAAKG,QAAL,CAAc,UAAd,EAA2BR,UAAU,CAACG,CAAD,CAAV,CAAcE,WAAzC;AACA;;AACA,iBAAK,CAAL;AACA,mBAAKG,QAAL,CAAc,SAAd,EAAyBR,UAAU,CAACG,CAAD,CAAV,CAAcE,WAAvC;AACA;;AACA;AACAJ,cAAAA,OAAO,CAACC,GAAR,CAAY,sBAAZ;AACA;AAZF;AAcD,SAhBD,MAgBM,IAAGF,UAAU,CAACG,CAAD,CAAV,CAAcE,WAAd,KAA8B,aAAjC,EAA+C;AACnD,kBAAQE,QAAQ,CAACP,UAAU,CAACG,CAAD,CAAV,CAAcG,KAAf,CAAhB;AACE,iBAAK,CAAL;AACA,mBAAKE,QAAL,CAAc,sBAAd,EAAsCR,UAAU,CAACG,CAAD,CAAV,CAAcE,WAApD;AACA;;AACA,iBAAK,CAAL;AACA,mBAAKG,QAAL,CAAc,qBAAd,EAAqCR,UAAU,CAACG,CAAD,CAAV,CAAcE,WAAnD;AACA;;AACA,iBAAK,CAAL;AACA,mBAAKG,QAAL,CAAc,iBAAd,EAAiCR,UAAU,CAACG,CAAD,CAAV,CAAcE,WAA/C;AACA;;AACA,iBAAK,CAAL;AACA,mBAAKG,QAAL,CAAc,qBAAd,EAAqCR,UAAU,CAACG,CAAD,CAAV,CAAcE,WAAnD;AACA;;AACA,iBAAK,CAAL;AACA,mBAAKG,QAAL,CAAc,MAAd,EAAsBR,UAAU,CAACG,CAAD,CAAV,CAAcE,WAApC;AACA;;AACA;AACAJ,cAAAA,OAAO,CAACC,GAAR,CAAY,sBAAZ;AACA;AAlBF;AAoBD,SArBK,MAqBA,IAAGF,UAAU,CAACG,CAAD,CAAV,CAAcE,WAAd,KAA8B,aAAjC,EAA+C;AACnD,eAAKG,QAAL,CAAc,QAAd,EAAwBR,UAAU,CAACG,CAAD,CAAV,CAAcE,WAAtC;AAED,SAHK,MAGA,IAAGL,UAAU,CAACG,CAAD,CAAV,CAAcE,WAAd,KAA8B,aAAjC,EAA+C;AACnD,eAAKG,QAAL,CAAc,QAAd,EAAwBR,UAAU,CAACG,CAAD,CAAV,CAAcE,WAAtC;AACD;AACF;AACF;;;kCAGaI,K,EAAQ;AACpB,WAAKV,QAAL,CAAc;AAAEf,QAAAA,UAAU,EAAEyB,KAAK,CAACC,MAAN,CAAaJ;AAA3B,OAAd;AACD;;;oCAEeG,K,EAAO;AACrB,WAAKV,QAAL,CAAc;AAAEd,QAAAA,UAAU,EAAGwB,KAAK,CAACC,MAAN,CAAaJ;AAA5B,OAAd;AACD;;;mCAEcG,K,EAAO;AACpB,WAAKV,QAAL,CAAc;AAAEb,QAAAA,UAAU,EAAEuB,KAAK,CAACC,MAAN,CAAaJ;AAA3B,OAAd;AACD;;;kCAEa;AAEZ;AAEA;AACA,UAAIK,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAW,KAAKvC,KAAL,CAAWwC,MAAtB,CAAX;AACAb,MAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBS,IAAtB,EANY,CAOZ;;AACAV,MAAAA,OAAO,CAACC,GAAR,CAAYS,IAAI,CAACX,UAAjB;AACA,UAAIe,IAAI,GAAGJ,IAAI,CAACX,UAAhB;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAoBa,IAApB,EAVY,CAYZ;;AACA,UAAIC,KAAK,GAAG,EAAZ;;AACA,WAAI,IAAIb,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAGY,IAAI,CAACX,MAAxB,EAAgCD,CAAC,EAAjC,EAAoC;AAClCF,QAAAA,OAAO,CAACC,GAAR,CAAYa,IAAI,CAACZ,CAAD,CAAJ,CAAQE,WAApB;;AAEA,YAAGU,IAAI,CAACZ,CAAD,CAAJ,CAAQE,WAAR,KAAwB,aAA3B,EAAyC;AACvCU,UAAAA,IAAI,CAACZ,CAAD,CAAJ,CAAQG,KAAR,GAAgB,KAAK/B,KAAL,CAAWS,UAA3B;AACAgC,UAAAA,KAAK,GAAGD,IAAI,CAACxC,KAAL,CAAWS,UAAnB;AACD,SAHD,MAGM,IAAG+B,IAAI,CAACZ,CAAD,CAAJ,CAAQE,WAAR,KAAwB,aAA3B,EAAyC;AAC7CU,UAAAA,IAAI,CAACZ,CAAD,CAAJ,CAAQG,KAAR,GAAgB,KAAK/B,KAAL,CAAWU,UAA3B;AACA+B,UAAAA,KAAK,GAAGD,IAAI,CAACxC,KAAL,CAAWU,UAAnB;AACD,SAHK,MAGA,IAAG8B,IAAI,CAACZ,CAAD,CAAJ,CAAQE,WAAR,KAAwB,aAA3B,EAAyC;AAC7CU,UAAAA,IAAI,CAACZ,CAAD,CAAJ,CAAQG,KAAR,GAAgB,KAAK/B,KAAL,CAAWW,UAA3B;AACA8B,UAAAA,KAAK,GAAGD,IAAI,CAACxC,KAAL,CAAWW,UAAnB;AACD;;AAED,aAAKa,QAAL,CAAc;AAACX,UAAAA,YAAY,EAAE4B;AAAf,SAAd;AACD,OA7BW,CA8BZ;AACA;AACA;;;AAEAL,MAAAA,IAAI,CAACX,UAAL,GAAkBe,IAAlB;AAEAd,MAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ,EAA4BS,IAA5B;AAEA,UAAMF,KAAK,GAAG;AACZT,QAAAA,UAAU,EAAE,CAAC,KAAKzB,KAAL,CAAWS,UAAZ;AADA,OAAd;AAIAiB,MAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBO,KAAvB;AAEA,UAAIQ,OAAO,GAAGxD,GAAG,CAACyD,KAAJ,CAAUD,OAAxB;AACA,UAAIE,OAAO,GAAG1D,GAAG,CAAC0D,OAAlB;AAEAC,MAAAA,KAAK,WAAIH,OAAJ,oBAAqB,KAAK3C,KAAL,CAAW+C,OAAhC,cAA2C,KAAK9C,KAAL,CAAWa,YAAtD,GAAsE;AACzEkC,QAAAA,MAAM,EAAE,KADiE;AAEzEC,QAAAA,WAAW,EAAE,SAF4D;AAGzEC,QAAAA,IAAI,EAAE,MAHmE;AAIzEL,QAAAA,OAAO,EAAPA,OAJyE;AAKzEM,QAAAA,IAAI,EAAEb,IAAI,CAACc,SAAL,CAAef,IAAf;AALmE,OAAtE,CAAL,CAOCgB,KAPD,CAOO,UAAAC,KAAK;AAAA,eAAIA,KAAJ;AAAA,OAPZ,EAQCC,IARD,CAQM,UAAAC,QAAQ;AAAA,eAAIA,QAAQ,CAACC,IAAT,EAAJ;AAAA,OARd;AAUA;;;;;;;;;;AAUD;;;8BAEQ;AACP9B,MAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ;AACA,WAAK3B,KAAL,CAAW;AAACc,QAAAA,OAAO,EAAE;AAAV,OAAX;AACD;;;+BAES;AACRY,MAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ;;AACA,UAAG,KAAK3B,KAAL,CAAWc,OAAd,EAAsB;AACpB,aAAKG,WAAL;AACD;;AAED,WAAKO,QAAL,CAAc;AAACV,QAAAA,OAAO,EAAE;AAAV,OAAd;AACD;;;6BAEO;AAAA,UACE2C,OADF,GACc,KAAK1D,KADnB,CACE0D,OADF;AAEN,aACE;AAAK,QAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEA,oBAAC,MAAD;AAAQ,QAAA,QAAQ,EAAC,QAAjB;AAA0B,QAAA,KAAK,EAAC,SAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA,oBAAC,MAAD;AAAQ,QAAA,KAAK,EAAC,SAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADA,EAEA,oBAAC,UAAD;AAAY,QAAA,EAAE,EAAC,WAAf;AAA2B,QAAA,OAAO,EAAC,IAAnC;AAAwC,QAAA,KAAK,EAAC,SAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAFA,CADA,CAFA,EAUA,oBAAC,KAAD;AAAO,QAAA,SAAS,EAAEA,OAAO,CAACpE,IAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA;AAAM,QAAA,QAAQ,EAAE,KAAKqE,YAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA,oBAAC,SAAD;AAAW,QAAA,IAAI,EAAC,MAAhB;AAAuB,QAAA,OAAO,EAAE,KAAKtC,OAArC;AAA8C,QAAA,MAAM,EAAE,KAAKC,QAA3D;AAAqE,QAAA,KAAK,EAAE,KAAKrB,KAAL,CAAWS,UAAvF;AAAoG,QAAA,KAAK,EAAC,oBAA1G;AAA+H,QAAA,SAAS,EAAEgD,OAAO,CAAC5D,SAAlJ;AAA6J,QAAA,QAAQ,EAAE,KAAKkB,aAA5K;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADA,CADA,EAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA,oBAAC,SAAD;AAAW,QAAA,IAAI,EAAC,MAAhB;AAAuB,QAAA,OAAO,EAAE,KAAKK,OAArC;AAA8C,QAAA,MAAM,EAAE,KAAKC,QAA3D;AAAqE,QAAA,KAAK,EAAE,KAAKrB,KAAL,CAAWU,UAAvF;AAAmG,QAAA,KAAK,EAAC,iBAAzG;AAA0H,QAAA,SAAS,EAAE+C,OAAO,CAAC5D,SAA7I;AAAwJ,QAAA,QAAQ,EAAE,KAAKqB,eAAvK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADA,CAJA,EAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA,oBAAC,SAAD;AAAW,QAAA,SAAS,EAAE,IAAtB;AAA4B,QAAA,IAAI,EAAC,MAAjC;AAAwC,QAAA,OAAO,EAAE,KAAKE,OAAtD;AAA+D,QAAA,MAAM,EAAE,KAAKC,QAA5E;AAAsF,QAAA,KAAK,EAAE,KAAKrB,KAAL,CAAWW,UAAxG;AAAoH,QAAA,KAAK,EAAC,oDAA1H;AACA,QAAA,SAAS,EAAE8C,OAAO,CAAC5D,SADnB;AAC8B,QAAA,QAAQ,EAAE,KAAKsB,cAD7C;AAC6D,QAAA,OAAO,EAAC,GADrE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADA,CAPA,CADA,EAcA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA,oBAAC,MAAD;AAAQ,QAAA,SAAS,EAAEsC,OAAO,CAAC/D,OAA3B;AAAoC,QAAA,OAAO,EAAE,KAAKuB,WAAlD;AAA+D,QAAA,KAAK,EAAC,SAArE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADA,EAEA,oBAAC,MAAD;AAAQ,QAAA,SAAS,EAAEwC,OAAO,CAAC/D,OAA3B;AAAoC,QAAA,OAAO,EAAE,KAAKK,KAAL,CAAW4D,OAAxD;AAAiE,QAAA,KAAK,EAAC,SAAvE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAFA,CAdA,CAVA,CADA,CADF;AAkCD;;;;EAtOqBtF,KAAK,CAACC,S;;AAyO9B,eAAeU,UAAU,CAACG,MAAD,CAAV,CAAmBW,SAAnB,CAAf","sourcesContent":["import React, { Component } from 'react';\nimport ReactDOM from \"react-dom\";\nimport { Paper, TextField, Input, MuiThemeProvider, AppBar, Button, Toolbar, Typography } from '@material-ui/core/';\nimport { withStyles } from '@material-ui/core/styles';\nimport PropTypes from 'prop-types';\nimport Api from './api.js';\n\n/*\ngetEvent(eventID){\nApi.getEntryFromDoctor(eventID).then(data => console.log(data));\n}\n*/\n\n\nconst styles = theme => ({\n  root: {\n    width: '80%',\n    margin:'0 auto',\n    marginTop: '1%',\n    overflowX: 'auto',\n  },\n  buttons: {\n    marginTop: '3%',\n    margin: '1 auto',\n    backgroundColor: '#3f51b5',\n    color: 'white',\n  },\n  textinput: {\n    marginTop:'2rem',\n    marginTop:'2rem',\n    margin:'0',\n    overflow: 'auto',\n  }\n\n});\n\nclass Oldreport extends React.Component{\n  constructor(props){\n    super(props)\n    this.state = {\n      date:'',\n      timeFrom:'',\n      timeTo:'',\n      patientType:'',\n      equipmentUsed:'',\n      problems:'bare masse problemer her. bruker denne til å se hvordan multiline fungerer',\n      status:'',\n      data: [],\n      textField1: \"\",\n      textField2: \"\",\n      textField3: \"\",\n      textField4: \"\",\n      currentField: \"\",\n      clicked: false\n    };\n\n    this.handlePatient = this.handlePatient.bind(this);\n    this.saveChanges = this.saveChanges.bind(this);\n    this.handleEquipment = this.handleEquipment.bind(this);\n    this.handleProblems = this.handleProblems.bind(this);\n    this.focusIn = this.focusIn.bind(this);\n    this.focusOut = this.focusOut.bind(this);\n  };\n\n  setValue(text, id){\n\n    if (id == \"zrZADVnTtMa\"){\n      this.setState({ textField1: text });\n    } else if (id == \"romAEndBlt4\"){\n      this.setState({ textField2 : text});\n    } else if (id == \"EZstOIjb7wN\"){\n      this.setState({ textField3 : text});\n    } else if (id == \"p5D5Y9x7yMc\"){\n      this.setState({ textField4 : text});\n    }\n  }\n\n\n\n\n\n  componentDidMount() {\n\n    var dataValues = this.props.data;\n\n    console.log(\"dataValues: \", dataValues);\n\n    for(var i = 0; i < dataValues.length; i++){\n      if(dataValues[i].dataElement === \"zrZADVnTtMa\"){\n        console.log(dataValues[i].value);\n        switch(parseInt(dataValues[i].value)){\n          case 1:\n          this.setValue(\"Approved\", dataValues[i].dataElement);\n          break;\n          case 2:\n          this.setValue(\"Rejected\" , dataValues[i].dataElement);\n          break;\n          case 3:\n          this.setValue(\"Pending\", dataValues[i].dataElement);\n          break;\n          default:\n          console.log(\"Skal ikke kommme hit\");\n          break;\n        }\n      }else if(dataValues[i].dataElement === \"romAEndBlt4\"){\n        switch (parseInt(dataValues[i].value)) {\n          case 1:\n          this.setValue(\"Equiment/Drug Issues\", dataValues[i].dataElement);\n          break;\n          case 2:\n          this.setValue(\"User/Patient Issues\", dataValues[i].dataElement);\n          break;\n          case 3:\n          this.setValue(\"Technical Issue\", dataValues[i].dataElement);\n          break;\n          case 4:\n          this.setValue(\"Health worker issue\", dataValues[i].dataElement);\n          break;\n          case 5:\n          this.setValue(\"None\", dataValues[i].dataElement);\n          break;\n          default:\n          console.log(\"Skal ikke kommme hit\");\n          break;\n        }\n      }else if(dataValues[i].dataElement === \"EZstOIjb7wN\"){\n        this.setValue(\"verdi1\", dataValues[i].dataElement);\n\n      }else if(dataValues[i].dataElement === \"p5D5Y9x7yMc\"){\n        this.setValue(\"verdi2\", dataValues[i].dataElement);\n      }\n    }\n  }\n\n\n  handlePatient(event)  {\n    this.setState({ textField1: event.target.value });\n  }\n\n  handleEquipment(event) {\n    this.setState({ textField2 : event.target.value });\n  }\n\n  handleProblems(event) {\n    this.setState({ textField3: event.target.value});\n  }\n\n  saveChanges() {\n\n    // endrer objektet\n\n    //var fucker = [this.state.textField1, this.state.textField2, this.state.textField3];\n    var temp = JSON.parse(this.props.report);\n    console.log(\"BODY: \", temp);\n    //console.log(\"DET VI SKAL HA\", temp.dataValues[0]);\n    console.log(temp.dataValues);\n    var test = temp.dataValues;\n    console.log(\"Test\", test);\n\n    //for(var i = 0; i < )\n    var field = \"\";\n    for(var i = 0; i < test.length; i++){\n      console.log(test[i].dataElement);\n\n      if(test[i].dataElement === \"romAEndBlt4\"){\n        test[i].value = this.state.textField1;\n        field = test.state.textField1;\n      }else if(test[i].dataElement === \"EZstOIjb7wN\"){\n        test[i].value = this.state.textField2;\n        field = test.state.textField2;\n      }else if(test[i].dataElement === \"zrZADVnTtMa\"){\n        test[i].value = this.state.textField3;\n        field = test.state.textField3;\n      }\n\n      this.setState({currentField: field});\n    }\n    //console.log(temp.dataValues[0].dataElement);\n    //console.log(this.state.textField1);\n    //temp.dataValues[0].dataElement = this.state.textField1;\n\n    temp.dataValues = test;\n\n    console.log(\"BODY etter: \", temp);\n\n    const event = {\n      dataValues: [this.state.textField1]\n    }\n\n    console.log(\"EVENT: \", event);\n\n    var baseUrl = Api.dhis2.baseUrl;\n    var headers = Api.headers;\n\n    fetch(`${baseUrl}events/${this.props.eventID}/${this.state.currentField}`, {\n      method: 'PUT',\n      credentials: 'include',\n      mode: 'cors',\n      headers,\n      body: JSON.stringify(temp),\n    })\n    .catch(error => error)\n    .then(response => response.json());\n\n    /*\n    fetch(`${baseUrl}events/${this.props.eventID}/romAEndBlt4`, {\n      method: 'GET',\n      credentials: 'include',\n      mode: 'cors',\n      headers,\n    })\n    .catch(error => error)\n    .then(response => response.json());\n    */\n  }\n\n  focusIn(){\n    console.log(\"Focus in\");\n    this.state({clicked: true});\n  }\n\n  focusOut(){\n    console.log(\"Focus out\");\n    if(this.state.clicked){\n      this.saveChanges();\n    }\n    \n    this.setState({clicked: false});\n  }\n\n  render(){\n    const { classes } = this.props;\n    return(\n      <div className=\"tReport\">\n      <body>\n\n      <AppBar position=\"static\" color=\"primary\">\n      <Toolbar>\n      <Button color=\"inherit\">Back</Button>\n      <Typography id=\"headliner\" variant=\"h6\" color=\"inherit\">\n      Doctorsinterface\n      </Typography>\n      </Toolbar>\n      </AppBar>\n      <Paper className={classes.root}>\n      <form onSubmit={this.handleSubmit}>\n      <div>\n      <TextField type=\"text\" onFocus={this.focusIn} onBlur={this.focusOut} value={this.state.textField1}  label=\"Types of patients:\" className={classes.textinput} onChange={this.handlePatient}/>\n      </div>\n      <div>\n      <TextField type=\"text\" onFocus={this.focusIn} onBlur={this.focusOut} value={this.state.textField2} label=\"Equipment used:\"className={classes.textinput} onChange={this.handleEquipment}/>\n      </div>\n      <div>\n      <TextField multiline={true} type=\"text\" onFocus={this.focusIn} onBlur={this.focusOut} value={this.state.textField3} label=\"Challenges related to equipment or infrastructure:\"\n      className={classes.textinput} onChange={this.handleProblems} rowsMax=\"7\"/>\n      </div>\n\n      </form>\n      <div>\n      <Button className={classes.buttons} onClick={this.saveChanges} color=\"primary\"> Change </Button>\n      <Button className={classes.buttons} onClick={this.props.handler} color=\"primary\"> Close </Button>\n      </div>\n      </Paper>\n      </body>\n      </div>\n    );\n  }\n}\n\nexport default withStyles(styles)(Oldreport);\n"]},"metadata":{},"sourceType":"module"}